<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Meta Syntax - The Dewy Programming Language</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="ch00-00-introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01-01-installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="ch01-02-hello-world.html"><strong aria-hidden="true">1.2.</strong> Hello, World!</a></li></ol></li><li class="chapter-item expanded "><a href="ch02-00-hello-many-worlds.html"><strong aria-hidden="true">2.</strong> Hello, Many Worlds!</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch02-01-gui.html"><strong aria-hidden="true">2.1.</strong> GUI</a></li><li class="chapter-item expanded "><a href="ch02-02-graphics.html"><strong aria-hidden="true">2.2.</strong> Graphics</a></li><li class="chapter-item expanded "><a href="ch02-03-audio.html"><strong aria-hidden="true">2.3.</strong> Audio</a></li><li class="chapter-item expanded "><a href="ch02-04-networking.html"><strong aria-hidden="true">2.4.</strong> Networking</a></li><li class="chapter-item expanded "><a href="ch02-05a-game-development.html"><strong aria-hidden="true">2.5.</strong> 2D Game Development</a></li><li class="chapter-item expanded "><a href="ch02-05b-game-development.html"><strong aria-hidden="true">2.6.</strong> 3D Game Development</a></li><li class="chapter-item expanded "><a href="ch02-06-web-development.html"><strong aria-hidden="true">2.7.</strong> Web Development</a></li><li class="chapter-item expanded "><a href="ch02-07-databases.html"><strong aria-hidden="true">2.8.</strong> Databases</a></li><li class="chapter-item expanded "><a href="ch02-08-cryptography.html"><strong aria-hidden="true">2.9.</strong> Cryptography</a></li><li class="chapter-item expanded "><a href="ch02-09-operating-systems.html"><strong aria-hidden="true">2.10.</strong> Operating Systems</a></li><li class="chapter-item expanded "><a href="ch02-10-compilers.html"><strong aria-hidden="true">2.11.</strong> Compilers</a></li><li class="chapter-item expanded "><a href="ch02-11-scientific-computing.html"><strong aria-hidden="true">2.12.</strong> Scientific Computing</a></li><li class="chapter-item expanded "><a href="ch02-12-robotics.html"><strong aria-hidden="true">2.13.</strong> Robotics</a></li><li class="chapter-item expanded "><a href="ch02-13-machine-learning.html"><strong aria-hidden="true">2.14.</strong> Machine Learning</a></li></ol></li><li class="chapter-item expanded "><a href="chxx-features.html"><strong aria-hidden="true">3.</strong> Language Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="units.html"><strong aria-hidden="true">3.1.</strong> Units</a></li><li class="chapter-item expanded "><a href="string-interpolation.html"><strong aria-hidden="true">3.2.</strong> String Interpolation</a></li><li class="chapter-item expanded "><a href="basic-data-types.html"><strong aria-hidden="true">3.3.</strong> Basic Data Types</a></li><li class="chapter-item expanded "><a href="container-types.html"><strong aria-hidden="true">3.4.</strong> Container Types</a></li><li class="chapter-item expanded "><a href="range-types.html"><strong aria-hidden="true">3.5.</strong> Range Types</a></li><li class="chapter-item expanded "><a href="object-types.html"><strong aria-hidden="true">3.6.</strong> Object Types</a></li><li class="chapter-item expanded "><a href="function-types.html"><strong aria-hidden="true">3.7.</strong> Function Types</a></li><li class="chapter-item expanded "><a href="operators.html"><strong aria-hidden="true">3.8.</strong> Operators</a></li><li class="chapter-item expanded "><a href="number-bases.html"><strong aria-hidden="true">3.9.</strong> Number Bases</a></li><li class="chapter-item expanded "><a href="basic-math.html"><strong aria-hidden="true">3.10.</strong> Basic Math</a></li><li class="chapter-item expanded "><a href="linear-algebra.html"><strong aria-hidden="true">3.11.</strong> Linear Algebra</a></li><li class="chapter-item expanded "><a href="functional-programming.html"><strong aria-hidden="true">3.12.</strong> Functional Programming</a></li><li class="chapter-item expanded "><a href="meta-programming.html"><strong aria-hidden="true">3.13.</strong> Meta Programming</a></li><li class="chapter-item expanded "><a href="flow-control.html"><strong aria-hidden="true">3.14.</strong> Flow Control</a></li><li class="chapter-item expanded "><a href="loops.html"><strong aria-hidden="true">3.15.</strong> One Loop to Rule them All</a></li><li class="chapter-item expanded "><a href="blocks-statements-expressions.html"><strong aria-hidden="true">3.16.</strong> Blocks, Statements, and Expressions</a></li><li class="chapter-item expanded "><a href="meta-syntax.html" class="active"><strong aria-hidden="true">3.17.</strong> Meta Syntax</a></li></ol></li><li class="chapter-item expanded "><a href="wipmisc.html"><strong aria-hidden="true">4.</strong> WIP/Misc. Ideas</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Dewy Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="meta-syntax"><a class="header" href="#meta-syntax">Meta Syntax</a></h1>
<p>One of the interesting features of Dewy is that all regular features of the language are bootstrapped out of a much simpler meta language. Using the meta language, you can do anything from define new operators, to (more stuff...), to modifying the syntax rules of the language.</p>
<p>Meta-Dewy as it is called, is basically a modified version of <a href="https://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_form">Extended Backus-Naur Form</a>, with some added features</p>
<h2 id="hashtags-and-lex-rules"><a class="header" href="#hashtags-and-lex-rules">Hashtags and Lex Rules</a></h2>
<p>The simplest aspect of Meta-Dewy is the concept of a hashtag</p>
<pre><code class="language-dewy">#my_hashtag
</code></pre>
<p>Hashtags are used as identifiers for meta rules, which are used to describe the syntax of the language</p>
<pre><code class="language-dewy">#digit = '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9';
</code></pre>
<p>This rule defines how a single digit is any of the numbers from <code>0-9</code>. Note that all rules must end with a semicolon. Because the meta language is simpler than Dewy itself, it doesn't contain as many quality of life features.</p>
<p>Lets say we want to define a new number system, say using chinese character. we would build up the rules for numbers like so</p>
<pre><code class="language-dewy">#ch_digit = '零' | '一' | '二' | '三' | '四' | '五' | '六' | '七' | '八' | '九';
#ch_digit_string = #ch_digit, {#ch_digit};
</code></pre>
<p>The first rule defines the individual digits to be used, and then the second rule defines a digit string as a sequence of at least 1 digit, concatenated together with a sequence of zero or more digits after it.</p>
<p>Now if we want to be able to write out chinese numbers in our code, we need to the the compiler to include this new rule in the list of rules it uses to define the language. this is accomplished by using the reserved <code>#lex</code> hashtag function. Note that the hashtag function does not end with a semicolon. </p>
<pre><code class="language-dewy">#lex( #ch_digit_string )
</code></pre>
<p>From now on, the compiler will recognize any sequences of chinese digits as a digit string, and store them in a token which can be used later.</p>
<h3 id="more-examples-of-rules"><a class="header" href="#more-examples-of-rules">More Examples of Rules</a></h3>
<p>These examples come directly from the rules used to build the syntax of Dewy up from nothing</p>
<h4 id="decimal-number-rules"><a class="header" href="#decimal-number-rules">Decimal Number Rules</a></h4>
<pre><code class="language-dewy">#decimal_digit = '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9';
#decimal_prefix = '0D' | '0d'; //obviously optional
#decimal_digit_string = #decimal_digit, {#decimal_digit | '_'};
#decimal_natural = [#decimal_prefix], #decimal_digit_string;
#decimal_rational = #decimal_natural, '.', #decimal_digit_string;
#decimal_floating_point = (#decimal_rational | #decimal_natural), [('e'|'E'), ['-'|'+'], (#decimal_rational | #decimal_natural)];

//combine all into a single rule. This is actually not necessary, and will probably make parsing slightly more verbose...
#decimal_number = #decimal_natural | #decimal_rational | #decimal_floating_point;
</code></pre>
<p>These will identifier numbers like </p>
<pre><code class="language-dewy">//TODO-&gt;examples of numbers that can be scanned by these rules
</code></pre>
<h4 id="identifiers-and-hashtags"><a class="header" href="#identifiers-and-hashtags">Identifiers and Hashtags</a></h4>
<pre><code class="language-dewy">#lowercase_letter = 'a' | 'b' | 'c' | 'd' | 'e' | 'f' | 'g' | 'h' | 'i' | 'j' | 'k' | 'l' 
    | 'm' | 'n' | 'o' | 'p' | 'q' | 'r' | 's' | 't' | 'u' | 'v' | 'w' | 'x' | 'y' | 'z';
#uppercase_letter = 'A'| 'B' | 'C' | 'D' | 'E' | 'F' | 'G' | 'H' | 'I' | 'J' | 'K' | 'L' 
    | 'M' | 'N' | 'O' | 'P' | 'Q' | 'R' | 'S' | 'T' | 'U' | 'V' | 'W' | 'X' | 'Y' | 'Z';
#symbols = '~' | '!' | '@' | '#' | '$' | '&amp;' | '_' | '?'; 

#identifier = (#uppercase_letter | #lowercase_letter | '_'), {#uppercase_letter | #lowercase_letter | #decimal_digit | #symbols };

#hashtag = '#', #identifier;
</code></pre>
<p>and some examples</p>
<pre><code class="language-dewy">//TODO
</code></pre>
<h4 id="reserved-words"><a class="header" href="#reserved-words">Reserved Words</a></h4>
<pre><code class="language-dewy">#reserved_word = 'loop' | 'if' | 'else' | 'return' | 'in' | 'as' | 'transmute' | 'continue' | 'break' | 'exit' | 'quit' | 'yield' | 'constant' | 'symbol';
</code></pre>
<p>which match those words exactly. (TODO-&gt;note syntax for case insensitive)</p>
<h4 id="simple-strings"><a class="header" href="#simple-strings">Simple Strings</a></h4>
<p>These are strings that ignore any string interpolation</p>
<pre><code class="language-dewy">#whitespace = ' '; //TODO-&gt;other whitespace via hex codes
#string_content = { #lowercase_letter | #uppercase_letter | #symbols | #decimal_digit | #whitespace };
#string = ('&quot;', #string_content, '&quot;') | (&quot;'&quot;, #string_content, &quot;'&quot;);
</code></pre>
<h3 id="calling-lex-with-multiple-rules"><a class="header" href="#calling-lex-with-multiple-rules">Calling #lex with Multiple Rules</a></h3>
<p>The <code>#lex</code> hashtag can be called with multiple rules at a time, so that it is easy to add many rules to the compiler all at once. For example, to tell the compiler to scan for each of the rules we just described</p>
<pre><code class="language-dewy">#lex(#identifier #reserved_word #decimal_number #string)
</code></pre>
<p>Each rule must simply be separated with whitespace. And the body of the <code>#lex</code> function call must only contain hashtags</p>
<h2 id="parsing-rules"><a class="header" href="#parsing-rules">Parsing Rules</a></h2>
<p>TODO-&gt;how is meaning derived from defined rules...</p>
<ul>
<li>Parse rule syntax</li>
<li>action backends, e.g. interpreter, llvm, C source, etc.</li>
<li>writing backends in C</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="blocks-statements-expressions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="wipmisc.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="blocks-statements-expressions.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="wipmisc.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
