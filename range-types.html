<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Range Types - The Dewy Programming Language</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="ch00-00-introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01-01-installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="ch01-02-hello-world.html"><strong aria-hidden="true">1.2.</strong> Hello, World!</a></li></ol></li><li class="chapter-item expanded "><a href="ch02-00-hello-many-worlds.html"><strong aria-hidden="true">2.</strong> Hello, Many Worlds!</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch02-01-gui.html"><strong aria-hidden="true">2.1.</strong> GUI</a></li><li class="chapter-item expanded "><a href="ch02-02-graphics.html"><strong aria-hidden="true">2.2.</strong> Graphics</a></li><li class="chapter-item expanded "><a href="ch02-03-audio.html"><strong aria-hidden="true">2.3.</strong> Audio</a></li><li class="chapter-item expanded "><a href="ch02-04-networking.html"><strong aria-hidden="true">2.4.</strong> Networking</a></li><li class="chapter-item expanded "><a href="ch02-05a-game-development.html"><strong aria-hidden="true">2.5.</strong> 2D Game Development</a></li><li class="chapter-item expanded "><a href="ch02-05b-game-development.html"><strong aria-hidden="true">2.6.</strong> 3D Game Development</a></li><li class="chapter-item expanded "><a href="ch02-06-web-development.html"><strong aria-hidden="true">2.7.</strong> Web Development</a></li><li class="chapter-item expanded "><a href="ch02-07-databases.html"><strong aria-hidden="true">2.8.</strong> Databases</a></li><li class="chapter-item expanded "><a href="ch02-08-cryptography.html"><strong aria-hidden="true">2.9.</strong> Cryptography</a></li><li class="chapter-item expanded "><a href="ch02-09-operating-systems.html"><strong aria-hidden="true">2.10.</strong> Operating Systems</a></li><li class="chapter-item expanded "><a href="ch02-10-compilers.html"><strong aria-hidden="true">2.11.</strong> Compilers</a></li><li class="chapter-item expanded "><a href="ch02-11-scientific-computing.html"><strong aria-hidden="true">2.12.</strong> Scientific Computing</a></li><li class="chapter-item expanded "><a href="ch02-12-robotics.html"><strong aria-hidden="true">2.13.</strong> Robotics</a></li><li class="chapter-item expanded "><a href="ch02-13-machine-learning.html"><strong aria-hidden="true">2.14.</strong> Machine Learning</a></li></ol></li><li class="chapter-item expanded "><a href="chxx-features.html"><strong aria-hidden="true">3.</strong> Language Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="units.html"><strong aria-hidden="true">3.1.</strong> Units</a></li><li class="chapter-item expanded "><a href="string-interpolation.html"><strong aria-hidden="true">3.2.</strong> String Interpolation</a></li><li class="chapter-item expanded "><a href="basic-data-types.html"><strong aria-hidden="true">3.3.</strong> Basic Data Types</a></li><li class="chapter-item expanded "><a href="container-types.html"><strong aria-hidden="true">3.4.</strong> Container Types</a></li><li class="chapter-item expanded "><a href="range-types.html" class="active"><strong aria-hidden="true">3.5.</strong> Range Types</a></li><li class="chapter-item expanded "><a href="object-types.html"><strong aria-hidden="true">3.6.</strong> Object Types</a></li><li class="chapter-item expanded "><a href="function-types.html"><strong aria-hidden="true">3.7.</strong> Function Types</a></li><li class="chapter-item expanded "><a href="operators.html"><strong aria-hidden="true">3.8.</strong> Operators</a></li><li class="chapter-item expanded "><a href="number-bases.html"><strong aria-hidden="true">3.9.</strong> Number Bases</a></li><li class="chapter-item expanded "><a href="basic-math.html"><strong aria-hidden="true">3.10.</strong> Basic Math</a></li><li class="chapter-item expanded "><a href="linear-algebra.html"><strong aria-hidden="true">3.11.</strong> Linear Algebra</a></li><li class="chapter-item expanded "><a href="functional-programming.html"><strong aria-hidden="true">3.12.</strong> Functional Programming</a></li><li class="chapter-item expanded "><a href="meta-programming.html"><strong aria-hidden="true">3.13.</strong> Meta Programming</a></li><li class="chapter-item expanded "><a href="flow-control.html"><strong aria-hidden="true">3.14.</strong> Flow Control</a></li><li class="chapter-item expanded "><a href="loops.html"><strong aria-hidden="true">3.15.</strong> One Loop to Rule them All</a></li><li class="chapter-item expanded "><a href="blocks-statements-expressions.html"><strong aria-hidden="true">3.16.</strong> Blocks, Statements, and Expressions</a></li><li class="chapter-item expanded "><a href="meta-syntax.html"><strong aria-hidden="true">3.17.</strong> Meta Syntax</a></li></ol></li><li class="chapter-item expanded "><a href="wipmisc.html"><strong aria-hidden="true">4.</strong> WIP/Misc. Ideas</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Dewy Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ranges"><a class="header" href="#ranges">Ranges</a></h1>
<p>A range represents some span over a set of values. Typically ranges will be over numbers, however any orderable set could be used for a range (e.g. strings, dates, etc.). Ranges are frequently used for loops, indexing, and several other places.</p>
<p>Ranges always contain a <code>..</code> and may include left and or right values that are juxtaposed, optionally specifying the bounds and step size.</p>
<h2 id="range-syntax"><a class="header" href="#range-syntax">Range Syntax</a></h2>
<p>The syntax for ranges is inspired by Haskell syntax for ranges:</p>
<pre><code class="language-dewy">[first..]               // first to inf
[(first,second)..]        // first to inf, step size is second-first
[first..last]           // first to last
[(first,second)..last]    // first to last, step size is second-first
[..(2ndlast,last)]        // -inf to last, step size is last-2ndlast
[..last]                // -inf to last
[..]                    // -inf to inf
</code></pre>
<p>Note that <code>[first..2ndlast,last]</code> is explicitly <strong>NOT ALLOWED</strong>, as it is covered by <code>[first,second..last]</code>, and can have unintuitive behavior.</p>
<p>In addition, ranges can have their bounds be inclusive or exclusive. Inclusive bounds are indicated by square brackets, and exclusive bounds are indicated by parenthesis. The default is inclusive bounds. Also left and right bounds can be specified independently, so you can have a range that is inclusive on the left and exclusive on the right, or vice versa.</p>
<pre><code class="language-dewy">[first..last]   // first to last including first and last
[first..last)   // first to last including first, excluding last
(first..last]   // first to last excluding first, including last
(first..last)   // first to last excluding first and last
first..last     // same as [first..last]
</code></pre>
<h3 id="juxtaposition"><a class="header" href="#juxtaposition">Juxtaposition</a></h3>
<p>The left and right values are only considered part of the range if they are juxtaposed with the <code>..</code>. Values not juxtaposed with the range are considered separate expressions.</p>
<pre><code class="language-dewy">first..last     // first to last
first ..last    // -inf to last. first is not part of the range
first.. last    // first to inf. last is not part of the range
first .. last   // -inf to inf. neither first or last are part of the range
</code></pre>
<p>Note that the range juxtaposition operator has relatively low precedence, so you can construct various common ranges without needing parenthesis.</p>
<pre><code class="language-dewy">first..last+1           // first to last+1
first,second..last      // first to last, step size is second-first
first/2,first..last+10  // first/2 to last, step size is first/2
</code></pre>
<p>The juxtaposition requirement allows ranges to be used to index into matricies</p>
<pre><code class="language-dewy">my_array = [
    0 1 2 3 4 5 6 7 8 9 
    10 11 12 13 14 15 16 17 18 19
    20 21 22 23 24 25 26 27 28 29
]
my_array[1.. 6..]     //returns [16 17 18 19; 26 27 28 29]
</code></pre>
<h2 id="numeric-ranges"><a class="header" href="#numeric-ranges">Numeric Ranges</a></h2>
<p>Probably the most common type of range will be a numeric ranges which describes a span over real numbers.</p>
<p>Some simple examples include:</p>
<pre><code class="language-dewy">range1 = (1..5)  // 2 3 4
range2 = (1..5]  // 2 3 4 5
range3 = [1..5)  // 1 2 3 4
range4 = [1..5]  // 1 2 3 4 5
range5 = 1..5    // 1 2 3 4 5
</code></pre>
<h2 id="ordinal-ranges"><a class="header" href="#ordinal-ranges">Ordinal Ranges</a></h2>
<p>Ranges can also be constructed using any ordinal type. Currently the only only built in ordinal type other than numbers would be strings.</p>
<p>For example, the following range captures all characters in the range from <code>'a'</code> to <code>'z'</code> inclusive</p>
<pre><code>ord_range = 'a'..'z'
</code></pre>
<p>All alpahbetical characters might be represented like so</p>
<pre><code>alpha_range = 'a'..'z' + 'A'..'Z'
ascii_range = 'A'..'z' //this would include extra characters like '[\]^_{|}' etc.
</code></pre>
<p>But I probably won't just be limited to individual characters. In principle you ought to be able to do something like this</p>
<pre><code>word_range = 'apple'..'zebra'
'panda' in? word_range  //returns true
</code></pre>
<p>which would create a range that consists of every possible 5 letter combination starting from the word <code>'apple'</code> and iterating through to the word <code>'zebra'</code>. NOTE that this is distinct from every dictionary word in that range, as it will include many many gibberish words. </p>
<p>TDB exactly what criteria will be used for ordering strings, as I like string orderings that respect numbers embedded in them (e.g. <code>'apple2'</code> should come before <code>'apple10'</code>), but that becomes difficult with arbitrary strings. perhaps there might be a macro setting for the ordering type used</p>
<h2 id="range-uses"><a class="header" href="#range-uses">Range Uses</a></h2>
<p>Ranges have a variety of different uses in Dewy.</p>
<h3 id="ranges-in-loops"><a class="header" href="#ranges-in-loops">Ranges in Loops</a></h3>
<p>Probably the most common use is in conjunction with loops as a sequence to iterate over:</p>
<pre><code class="language-dewy">loop i in 0..5 print'{i} '
</code></pre>
<p>The above will print <code>'0 1 2 3 4 5 '</code>.</p>
<p>To iterate over values in reverse, you can specify a reversed range:</p>
<pre><code class="language-dewy">loop i in 5,4..0 print'{i} '
</code></pre>
<p>This prints <code>'5 4 3 2 1 0 '</code>. <strong>Note:</strong> when specifying a reversed range, you must include the step size. Forgetting to specify the step size will result in an empty range, as ranges are normally increasing.</p>
<h3 id="range-arithmetic"><a class="header" href="#range-arithmetic">Range Arithmetic</a></h3>
<p>Ranges can be used in arithmetic expressions, often as a way to construct new ranges.</p>
<pre><code>//division version
loop i in [0..4]/4 print'{i} '

//multiplication version
loop i in [0..4]*0.25 print'{i} '
</code></pre>
<p>Both of which will print <code>'0 0.25 0.5 0.75 1 '</code></p>
<p>These are both equivalent to directly constructing the range <code>0,0.25..4</code>, however the arithmetic versions are frequently more convenient.</p>
<p>This type of construction is closely related to the <code>linspace()</code>/<code>logspace()</code> functions in Dewy. TBD but <code>linspace</code>/<code>logspace</code> may in fact be implemented like so:</p>
<pre><code class="language-dewy">linspace = (interval:range, n:int=10) =&gt; {
    start, stop = interval.start, interval.stop
    step = (stop-start)/(n-1)
    return interval.start,interval.start+step..interval.stop
}
logspace = (interval:range, n:int=10, base:real=10) =&gt; base^linspace(interval, n)
</code></pre>
<h3 id="compound-range-construction"><a class="header" href="#compound-range-construction">Compound Range Construction</a></h3>
<p>Additionally you can construct more complex ranges by combining together multiple ranges:</p>
<pre><code class="language-dewy">complex_range = [1..5] + (15..20)
loop i in complex_range
    printn(i)           //prints 1 2 3 4 5 16 17 18 19
7 in? complex_range     //returns false
16 in? complex_range    //returns true
</code></pre>
<p>The same range as above can be constructed using subtraction</p>
<pre><code class="language-dewy">complex_range = [1..20) - (5..15]
</code></pre>
<h3 id="interval-membership"><a class="header" href="#interval-membership">Interval Membership</a></h3>
<p>You can also check if a value falls within a specified range</p>
<pre><code class="language-dewy">5 in? [1..5]         //returns true
5 in? (1..5)         //returns false
3.1415 in? (1..5)    //returns true 
</code></pre>
<h3 id="indexing-sequences"><a class="header" href="#indexing-sequences">Indexing Sequences</a></h3>
<p>ranges can be used to select values from a sequence. For example, say we want a substring we can do the following</p>
<pre><code class="language-dewy">full_string = 'this is a string'

substring = full_string[3..12]
printl(substring) //prints 's is a str'
</code></pre>
<p>This works for any sequence type. <strong>Note:</strong> only integer ranges can be used to index into sequences (TBD if this might be relaxed to real valued ranges).</p>
<p>Also, because of juxtaposition, we can easily make the selection inclusive or exclusive on either side.</p>
<pre><code>full_string = 'this is a string'

substring1 = full_string(3..12)  // ' is a st'
substring2 = full_string[3..12)  // 's is a st'
substring3 = full_string(3..12]  // ' is a str'
</code></pre>
<p>You can specify that a range continues to the end of the sequence, or starts from the beginning by omitting the value for that side. This will construct a range that goes to infinity in that direction, which will select all elements in that direction.</p>
<pre><code>full_string = 'this is a string'

substring_to_end = full_string[3..] // 's is a string'
substring_from_start = full_string[..12] // 'this is a str'
whole_string = full_string[..] //selects the whole string
</code></pre>
<p>Paired with the special <code>end</code> token which represents the index of the last element in a sequence, this provides the means to select any desired subset of a sequence.</p>
<pre><code>arr[end]      // last element
arr[end-1]    // second to last element
arr[..end-3]  // first element to 4th to last element
arr[5..end-3] // 5th element to 4th to last element
arr[end-3..]  // 4th to last element to last element
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="container-types.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="object-types.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="container-types.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="object-types.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
