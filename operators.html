<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Operators - The Dewy Programming Language</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="ch00-00-introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01-01-installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="ch01-02-hello-world.html"><strong aria-hidden="true">1.2.</strong> Hello, World!</a></li></ol></li><li class="chapter-item expanded "><a href="ch02-00-hello-many-worlds.html"><strong aria-hidden="true">2.</strong> Hello, Many Worlds!</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch02-01-gui.html"><strong aria-hidden="true">2.1.</strong> GUI</a></li><li class="chapter-item expanded "><a href="ch02-02-graphics.html"><strong aria-hidden="true">2.2.</strong> Graphics</a></li><li class="chapter-item expanded "><a href="ch02-03-audio.html"><strong aria-hidden="true">2.3.</strong> Audio</a></li><li class="chapter-item expanded "><a href="ch02-04-networking.html"><strong aria-hidden="true">2.4.</strong> Networking</a></li><li class="chapter-item expanded "><a href="ch02-05a-game-development.html"><strong aria-hidden="true">2.5.</strong> 2D Game Development</a></li><li class="chapter-item expanded "><a href="ch02-05b-game-development.html"><strong aria-hidden="true">2.6.</strong> 3D Game Development</a></li><li class="chapter-item expanded "><a href="ch02-06-web-development.html"><strong aria-hidden="true">2.7.</strong> Web Development</a></li><li class="chapter-item expanded "><a href="ch02-07-databases.html"><strong aria-hidden="true">2.8.</strong> Databases</a></li><li class="chapter-item expanded "><a href="ch02-08-cryptography.html"><strong aria-hidden="true">2.9.</strong> Cryptography</a></li><li class="chapter-item expanded "><a href="ch02-09-operating-systems.html"><strong aria-hidden="true">2.10.</strong> Operating Systems</a></li><li class="chapter-item expanded "><a href="ch02-10-compilers.html"><strong aria-hidden="true">2.11.</strong> Compilers</a></li><li class="chapter-item expanded "><a href="ch02-11-scientific-computing.html"><strong aria-hidden="true">2.12.</strong> Scientific Computing</a></li><li class="chapter-item expanded "><a href="ch02-12-robotics.html"><strong aria-hidden="true">2.13.</strong> Robotics</a></li><li class="chapter-item expanded "><a href="ch02-13-machine-learning.html"><strong aria-hidden="true">2.14.</strong> Machine Learning</a></li></ol></li><li class="chapter-item expanded "><a href="chxx-features.html"><strong aria-hidden="true">3.</strong> Language Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="expressions-statements-blocks.html"><strong aria-hidden="true">3.1.</strong> Expressions, Statements, and Blocks</a></li><li class="chapter-item expanded "><a href="units.html"><strong aria-hidden="true">3.2.</strong> Units</a></li><li class="chapter-item expanded "><a href="string-interpolation.html"><strong aria-hidden="true">3.3.</strong> String Interpolation</a></li><li class="chapter-item expanded "><a href="basic-data-types.html"><strong aria-hidden="true">3.4.</strong> Basic Data Types</a></li><li class="chapter-item expanded "><a href="container-types.html"><strong aria-hidden="true">3.5.</strong> Container Types</a></li><li class="chapter-item expanded "><a href="range-types.html"><strong aria-hidden="true">3.6.</strong> Range Types</a></li><li class="chapter-item expanded "><a href="object-types.html"><strong aria-hidden="true">3.7.</strong> Object Types</a></li><li class="chapter-item expanded "><a href="function-types.html"><strong aria-hidden="true">3.8.</strong> Function Types</a></li><li class="chapter-item expanded "><a href="operators.html" class="active"><strong aria-hidden="true">3.9.</strong> Operators</a></li><li class="chapter-item expanded "><a href="number-bases.html"><strong aria-hidden="true">3.10.</strong> Number Bases</a></li><li class="chapter-item expanded "><a href="basic-math.html"><strong aria-hidden="true">3.11.</strong> Basic Math</a></li><li class="chapter-item expanded "><a href="linear-algebra.html"><strong aria-hidden="true">3.12.</strong> Linear Algebra</a></li><li class="chapter-item expanded "><a href="functional-programming.html"><strong aria-hidden="true">3.13.</strong> Functional Programming</a></li><li class="chapter-item expanded "><a href="meta-programming.html"><strong aria-hidden="true">3.14.</strong> Meta Programming</a></li><li class="chapter-item expanded "><a href="flow-control.html"><strong aria-hidden="true">3.15.</strong> Flow Control</a></li><li class="chapter-item expanded "><a href="loops.html"><strong aria-hidden="true">3.16.</strong> One Loop to Rule them All</a></li></ol></li><li class="chapter-item expanded "><a href="ch04-00-stdlib.html"><strong aria-hidden="true">4.</strong> Standard Library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-xx-plotting.html"><strong aria-hidden="true">4.1.</strong> Plotting</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Dewy Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="operators"><a class="header" href="#operators">Operators</a></h1>
<p>Dewy is a 100% expression-based language, meaning everything is formed from small pieces combined together with operators. Dewy has 3 types of operators:</p>
<ul>
<li>unary prefix: come before the expression</li>
<li>binary infix: come between two expressions</li>
<li>unary postfix: come after the expression</li>
</ul>
<h2 id="binary-operators"><a class="header" href="#binary-operators">Binary Operators</a></h2>
<p>(TODO: this is missing several operators, and may have some extra ones that are no longer planned)</p>
<p><strong>Basic Math Operations</strong></p>
<ul>
<li><code>+</code> plus</li>
<li><code>-</code> minus</li>
<li><code>*</code> multiply</li>
<li><code>/</code> divide</li>
<li><code>%</code> modulus</li>
<li><code>^</code> exponent</li>
</ul>
<p><strong>logical and bitwise operations</strong></p>
<blockquote>
<p>Note: these are logical if both operands are boolean, otherwise they are bitwise and operate on as many bits as the size of the largest operand</p>
</blockquote>
<ul>
<li><code>and</code> both are true</li>
<li><code>or</code> either are true</li>
<li><code>xor</code> exactly one is true</li>
<li><code>not</code> invert (unary)</li>
<li><code>nand</code> either is false</li>
<li><code>nor</code> both are false</li>
<li><code>xnor</code> both are false or both are true</li>
</ul>
<p><strong>bit-shift operations</strong></p>
<ul>
<li><code>&lt;&lt;!</code> rotate left through carry bit</li>
<li><code>!&gt;&gt;</code> rotate right through carry bit</li>
<li><code>&lt;&lt;&lt;</code> rotate left no carry bit</li>
<li><code>&gt;&gt;&gt;</code> rotate right no carry bit</li>
<li><code>&lt;&lt;</code> shift left (arithmetic and logical are the same for left-shift) </li>
<li><code>&gt;&gt;</code> shift right (arithmetic vs logical determined by whether signed or unsigned)</li>
</ul>
<p><strong>boolean returning operations</strong></p>
<ul>
<li><code>=?</code> equal<!-- - `not?` not equal --></li>
<li><code>&gt;?</code> greater than</li>
<li><code>&gt;=?</code> greater than or equal</li>
<li><code>&lt;?</code> less than</li>
<li><code>&lt;=?</code> less than or equal</li>
<li><code>in?</code> is a member of</li>
</ul>
<!-- **Special Operators**
- `<=>` spaceship (three-way comparison) -->
<p><strong>colon operator</strong></p>
<ul>
<li><code>:</code> apply a type annotation</li>
</ul>
<p><strong>dictionary pointers</strong></p>
<ul>
<li><code>-&gt;</code> indicates the left expression points to the right expression in the dictionary</li>
<li><code>&lt;-</code> reverses the order, making the right expression the key, and the left the value</li>
<li><code>&lt;-&gt;</code> indicates that left is inserted as a key that points to right, and right is inserted as a key that points to left</li>
</ul>
<p><strong>Function pointer</strong></p>
<ul>
<li><code>=&gt;</code> used for declaring a function literal</li>
</ul>
<p><strong>handle operator</strong></p>
<ul>
<li><code>@</code> return a handle to the function or variable</li>
<li><code>@?</code> (probably) check if two references are point to the same thing</li>
</ul>
<p><strong>Assignment operators</strong></p>
<ul>
<li><code>=</code> binds the righthand expression to the lefthand identifier as a statement (i.e. nothing is returned)</li>
<li><code>:=</code> (walrus operator) same as normal assignment operator, but also returns the righthand side as an expression available for use.</li>
</ul>
<p><strong>Juxtaposition</strong></p>
<p>(TODO: explain how juxtaposition works)</p>
<h2 id="unary-prefix-operators"><a class="header" href="#unary-prefix-operators">Unary Prefix Operators</a></h2>
<p>(TODO: prefix operators)</p>
<h2 id="unary-postfix-operators"><a class="header" href="#unary-postfix-operators">Unary Postfix Operators</a></h2>
<p>(TODO: postfix operators)</p>
<h2 id="in-place-assignment"><a class="header" href="#in-place-assignment">In-place Assignment</a></h2>
<p>any of the logical/bitwise operators, as well as the boolean returning operators can be preceeded by <code>not</code> which will then cause the inverse of the operation to be returned. e.g. <code>not and</code> is equivalent to <code>nand</code>, <code>not &lt;?</code> is equivalent to <code>&gt;=?</code>, etc.</p>
<p>most binary operators can be appended with an <code>=</code> sign to make them into an assignment
e.g. </p>
<pre><code>a += 5  //is equivalent to a = a + 5
a &lt;?= 5  //is equivalent to a = a &lt;? 5
a !&gt;&gt;= 5  //is equivalent to a = a !&gt;&gt; 5
a xor= false  //is equivalent to a = a xor false
</code></pre>
<p>(TODO: This should also probably be able to be combined with element-wise/vectorized <code>.</code> operations where each element in the list is updated according to the operation (can be done in parallel))</p>
<h2 id="elementwise-operations"><a class="header" href="#elementwise-operations">Elementwise Operations</a></h2>
<p>the elementwise operator <code>.</code> can be prepended to most binary operators to make it be performed on each element in a array or sequence 
e.g. </p>
<pre><code>//find the prime factors of 20
a = [2 3 5 7 11 13 17 19]  //primes up to 20
mods = 20 .% a  //returns [0 2 0 6 9 7 3 1]
is_factor = mods .=? 0 //returns [true false true false false false false]
p_factors = a[is_factor] //returns [2 5]

//above in a single line
p_factors = [2 3 5 7 11 13 17 19][20 .% [2 3 5 7 11 13 17 19] .=? 0]

//though it's probably cleaner in 2 lines
primes = [2 3 5 7 11 13 17 19]
p_factors = primes[20 .% primes .=? 0]
</code></pre>
<p>This works if either the either first operand is a list, or the second is a list, or both are lists with the exact same shape</p>
<h2 id="precedence"><a class="header" href="#precedence">Precedence</a></h2>
<p>Every operator has a precedence level, and an associativity. The precedence level determines the order in which operators in a compound expression are evaluated. Associativity determines the order of evaluation when multiple operators of the same precedence level are present in a compound expression. Associativity can be:</p>
<ul>
<li>left-to-right</li>
<li>right-to-left</li>
<li>prefix</li>
<li>postfix</li>
<li>none (typically these expressions generate a single node in the AST)</li>
<li>fail (i.e. the expression is invalid if multiple operators of the same precedence level are present)</li>
</ul>
<p>(TODO: some way of populating this table with the current full precedence table in the code)</p>
<p>(TODO: this table is missing several operators)</p>
<div class="table-wrapper"><table><thead><tr><th>Precedence</th><th>Symbol</th><th>Name</th><th>Associativity</th></tr></thead><tbody>
<tr><td>14</td><td><code>@</code></td><td>reference</td><td>prefix</td></tr>
<tr><td>13</td><td><code>.</code><br>juxtapose<br>juxtapose</td><td>access<br>jux-call<br>jux-index</td><td>left</td></tr>
<tr><td>12</td><td><code>^</code></td><td>power</td><td>right</td></tr>
<tr><td>11</td><td>juxtapose</td><td>jux-multiply</td><td>left</td></tr>
<tr><td>10</td><td><code>*</code><br><code>/</code><br><code>%</code></td><td>multiply<br>divide<br>modulus</td><td>left</td></tr>
<tr><td>9</td><td><code>+</code><br><code>-</code></td><td>add<br>subtract</td><td>left</td></tr>
<tr><td>8</td><td><code>&lt;&lt;</code><br><code>&gt;&gt;</code><br><code>&lt;&lt;&lt;</code><br><code>&gt;&gt;&gt;</code><br><code>&lt;&lt;!</code><br><code>!&gt;&gt;</code></td><td>left shift<br>right shift<br>rotate right no carry<br>rotate left no carry<br>rotate left with carry<br>rotate right with carry</td><td>left</td></tr>
<tr><td>#</td><td>juxtapose</td><td>jux-range</td><td>none</td></tr>
<tr><td>#</td><td><code>in</code></td><td>in</td><td>fail</td></tr>
<tr><td>7</td><td><code>=?</code><br><code>&gt;?</code><br><code>&lt;?</code><br><code>&gt;=?</code><br><code>&lt;=?</code></td><td>equal<br>greater than<br>less than<br>greater than or equal<br>less than or equal</td><td>left</td></tr>
<tr><td>6</td><td><code>and</code><br><code>nand</code><br><code>&amp;</code></td><td>and<br>nand<br>and</td><td>left</td></tr>
<tr><td>5</td><td><code>xor</code><br><code>xnor</code></td><td>xor<br>xnor</td><td>left</td></tr>
<tr><td>4</td><td><code>or</code><br><code>nor</code><br>|</td><td>or<br>nor<br>or</td><td>left</td></tr>
<tr><td>3</td><td><code>comma</code></td><td>comma</td><td>none</td></tr>
<tr><td>2</td><td><code>=&gt;</code></td><td>function arrow</td><td>right</td></tr>
<tr><td>1</td><td><code>=</code></td><td>bind</td><td>fail</td></tr>
<tr><td>0</td><td><code>else</code></td><td>flow alternate</td><td>none</td></tr>
<tr><td>-1</td><td>space</td><td>space</td><td>left</td></tr>
<tr><td>TBD</td><td><code>as</code></td><td>as</td><td>TBD</td></tr>
<tr><td>TBD</td><td><code>transmute</code></td><td>transmute</td><td>TBD</td></tr>
<tr><td>TBD</td><td>|&gt;</td><td>pipe</td><td>TBD</td></tr>
<tr><td>TBD</td><td>&lt;|</td><td>reverse pipe</td><td>TBD</td></tr>
<tr><td>TBD</td><td><code>-&gt;</code></td><td>right-pointer</td><td>TBD</td></tr>
<tr><td>TBD</td><td><code>&lt;-&gt;</code></td><td>bi-pointer</td><td>TBD</td></tr>
<tr><td>TBD</td><td><code>&lt;-</code></td><td>left-pointer</td><td>TBD</td></tr>
<tr><td>TBD</td><td><code>:</code></td><td>type annotation</td><td>TBD</td></tr>
</tbody></table>
</div>
<p>multi-operators e.g. <code>100^/2</code> for sqrt, or <code>5+-1</code>, etc. have a precedence at the level of the first operator in the chain (i.e. all following operators have no effect on the precedence).
Also any instances of elementwise operators (e.g. <code>.+</code> <code>.=</code> <code>.xor</code> etc.) are at the level of precedence as the operator they're attached to. Assignment operators on the other hand are all at the same level, regardless of the type of operator they're attached to (e.g. <code>+=</code> <code>&lt;?=</code> <code>&lt;&lt;=</code> <code>nand=</code> etc.)</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="function-types.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="number-bases.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="function-types.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="number-bases.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
