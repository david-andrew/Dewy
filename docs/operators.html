<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Operators - The Dewy Programming Language</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded affix "><a href="ch00-00-introduction.html">Introduction</a></li><li class="expanded affix "><a href="ch00-01-features-list.html">Features List</a></li><li class="expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="expanded "><a href="ch01-01-installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="expanded "><a href="ch01-02-hello-world.html"><strong aria-hidden="true">1.2.</strong> Hello, World!</a></li><li class="expanded "><a href="ch01-03-hello-many-worlds.html"><strong aria-hidden="true">1.3.</strong> Hello, Many Worlds!</a></li></ol></li><li class="expanded "><a href="chxx-features.html"><strong aria-hidden="true">2.</strong> Language Features</a></li><li><ol class="section"><li class="expanded "><a href="units.html"><strong aria-hidden="true">2.1.</strong> Units</a></li><li class="expanded "><a href="string-interpolation.html"><strong aria-hidden="true">2.2.</strong> String Interpolation</a></li><li class="expanded "><a href="basic-data-types.html"><strong aria-hidden="true">2.3.</strong> Basic Data Types</a></li><li class="expanded "><a href="container-types.html"><strong aria-hidden="true">2.4.</strong> Container Types</a></li><li class="expanded "><a href="range-types.html"><strong aria-hidden="true">2.5.</strong> Range Types</a></li><li class="expanded "><a href="function-types.html"><strong aria-hidden="true">2.6.</strong> Function Types</a></li><li class="expanded "><a href="operators.html" class="active"><strong aria-hidden="true">2.7.</strong> Operators</a></li><li class="expanded "><a href="number-bases.html"><strong aria-hidden="true">2.8.</strong> Number Bases</a></li><li class="expanded "><a href="basic-math.html"><strong aria-hidden="true">2.9.</strong> Basic Math</a></li><li class="expanded "><a href="linear-algebra.html"><strong aria-hidden="true">2.10.</strong> Linear Algebra</a></li><li class="expanded "><a href="functional-programming.html"><strong aria-hidden="true">2.11.</strong> Functional Programming</a></li><li class="expanded "><a href="meta-programming.html"><strong aria-hidden="true">2.12.</strong> Meta Programming</a></li><li class="expanded "><a href="flow-control.html"><strong aria-hidden="true">2.13.</strong> Flow Control</a></li><li class="expanded "><a href="loops.html"><strong aria-hidden="true">2.14.</strong> One Loop to Rule them All</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">The Dewy Programming Language</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#operators" id="operators">Operators</a></h1>
<p>TODO-&gt;clean this up, and verify that it is still correct</p>
<p><strong>Basic Math Operations</strong></p>
<ul>
<li><code>+</code> plus</li>
<li><code>-</code> minus</li>
<li><code>*</code> multiply</li>
<li><code>/</code> divide</li>
<li><code>%</code> modulus</li>
<li><code>^</code> exponent</li>
</ul>
<p><strong>logical and bitwise operations</strong>
(note that these are logical if both operands are boolean, otherwise they are bitwise and operate on as many bits as the size of the largest operand)</p>
<ul>
<li><code>and</code> both are true</li>
<li><code>or</code> either are true</li>
<li><code>xor</code> exactly one is true</li>
<li><code>not</code> invert (unary)</li>
<li><code>nand</code> either is false</li>
<li><code>nor</code> both are false</li>
<li><code>xnor</code> both are false or both are true</li>
</ul>
<p><strong>bit-shift operations</strong></p>
<ul>
<li><code>&lt;&lt;&lt;!</code> rotate left through carry bit</li>
<li><code>!&gt;&gt;&gt;</code> rotate right through carry bit</li>
<li><code>&lt;&lt;&lt;</code> rotate left no carry bit</li>
<li><code>&gt;&gt;&gt;</code> rotate right no carry bit</li>
<li><code>&lt;&lt;</code> shift left (arithmetic and logical are the same for left-shift) </li>
<li><code>&gt;&gt;</code> shift right (arithmetic vs logical determined by whether signed or unsigned)</li>
</ul>
<p><strong>boolean returning operations</strong></p>
<ul>
<li><code>=?</code> equal</li>
<li><code>not?</code> not equal</li>
<li><code>&gt;?</code> greater than</li>
<li><code>&gt;=?</code> greater than or equal</li>
<li><code>&lt;?</code> less than</li>
<li><code>&lt;=?</code> less than or equal</li>
<li><code>in?</code> is a member of</li>
</ul>
<p><strong>Special Operators</strong></p>
<ul>
<li><code>&lt;=&gt;</code> spaceship (three-way comparison)</li>
</ul>
<p><strong>colon operator</strong> or <strong>list creator operator</strong></p>
<ul>
<li><code>:</code> creates a list/sequence</li>
</ul>
<p><strong>dictionary pointers</strong></p>
<ul>
<li><code>-&gt;</code> indicates the left expression points to the right expression in the dictionary</li>
<li><code>&lt;-</code> reverses the order, making the right expression the key, and the left the value</li>
<li><code>&lt;-&gt;</code> indicates that left is inserted as a key that points to right, and right is inserted as a key that points to left</li>
</ul>
<p><strong>Function pointer</strong></p>
<ul>
<li><code>=&gt;</code> used for declaring a function literal</li>
</ul>
<p><strong>handle operator</strong></p>
<ul>
<li><code>@</code> return a handle to the function or variable</li>
<li><code>@?</code> (probably) check if two references are point to the same thing</li>
</ul>
<p><strong>Assignment operators</strong></p>
<ul>
<li><code>=</code> binds the righthand expression to the lefthand identifier as a statement (i.e. nothing is returned)</li>
<li><code>:=</code> (walrus operator) same as normal assignment operator, but also returns the righthand side as an expression available for use</li>
</ul>
<h2><a class="header" href="#notes" id="notes">Notes</a></h2>
<p>any of the logical/bitwise operators, as well as the boolean returning operators can be preceeded by <code>not</code> which will then cause the inverse of the operation to be returned. e.g. <code>not and</code> is equivalent to <code>nand</code>, <code>not &lt;?</code> is equivalent to <code>&gt;=?</code>, etc.</p>
<p>any of these operations can be appended with an <code>=</code> sign to make them into an assignment (this probably excludes <code>@</code> and <code>!</code> and any other unary operators)
e.g. </p>
<pre><code>a += 5  //is equivalent to a = a + 5
a &lt;?= 5  //is equivalent to a = a &lt;? 5
a !&gt;&gt;&gt;= 5  //is equivalent to a = a !&gt;&gt;&gt; 5
a xor= false  //is equivalent to a = a xor false
</code></pre>
<p>Can the <code>=</code> sign be (optionally) separated from the operation? e.g. <code>+=</code> is equivalent to <code>+ =</code>, <code>xor=</code> is equivalent to <code>xor =</code>, etc. I think it should be allowed in this case, so long as the first operator is in a single piece</p>
<p>This should also probably work with element-wise operations where each element in the list is updated according to the operation (can be done in parallel)</p>
<p>the elementwise operator <code>.</code> can be prepended to any operation to make it be performed on each element in a vector/matrix/tensor/etc. 
e.g. </p>
<pre><code>//find the prime factors of 20
a = [2 3 5 7 11 13 17 19]  //primes up to 20
mods = 20 .% a  //returns [0 2 0 6 9 7 3 1]
is_factor = mods .=? 0 //returns [true false true false false false false]
p_factors = a[is_factor] //returns [2 5]

//above in a single line
p_factors = [2 3 5 7 11 13 17 19][20 .% [2 3 5 7 11 13 17 19] =? 0]

//though it's probably cleaner in 2 lines
primes = [2 3 5 7 11 13 17 19]
p_factors = primes[20 .% primes =? 0]
</code></pre>
<p>This works if either the either first operand is a list, or the second is a list, or both are lists with the exact same shape</p>
<p>The current precedence levels for the operations are as follows:</p>
<pre><code>precedence_levels = 
[
    0 -&gt; [ '=' ]  //assignmnent (also += &lt;?= xor= etc.)
    1 -&gt; [ 'and' 'or' 'xor' 'not' 'nand' 'nor' 'xnor' ]  // 'not' might actually be inserted in between 7 and 8 as it's a unary operator
    2 -&gt; [ '=?' 'not?' '&gt;?' '&gt;=?' '&lt;?' '&lt;=?' 'in?' ]
    3 -&gt; [ '!&gt;&gt;&gt;' '&lt;&lt;&lt;!' '&gt;&gt;&gt;' '&lt;&lt;&lt;' '&gt;&gt;' '&lt;&lt;' ]
    4 -&gt; [ '+' '-' ]
    5 -&gt; [ '*' '/' '%' ]
    6 -&gt; [ 'm' 'd' ]  //unit versions of divide (d) and multiply (m), bind more tightly than normal arithmetic. You can't actually use these in the language
    7 -&gt; [ '^' ]
    8 -&gt; [ ':' ]  //list maker e.g. 1:10. This probably should be much lower, i.e. between 1 and 2, or 2 and 3
    9 -&gt; [ '!' ]
    10 -&gt; [ 'a.b' 'a()' 'a[]' ]  //attribute access e.g. some_obj.value
    11 -&gt; [ '@' ]  //11 might actually swap with 10
    12 -&gt; [ 'if' ]  //ternary if
    13 -&gt; [ '()' ]  //parenthesis groupings
    14 -&gt; [ '{}' ]  //block grouping
]
</code></pre>
<p>If we add a three-way comparison operator, it goes between levels 0 and 1. Also any multi-operators e.g. <code>100^/2</code> for sqrt, or <code>5+-1</code>, etc. have a precedence at the level of the first operator in the chain (i.e. all following operators have no effect on the precedence).
Also any instances of elementwise operators (e.g. <code>.+</code> <code>.=</code> <code>.xor</code> etc.) are at the level of precedence as the operator they're attached to. Assignment operators on the other hand are all at the same level, regardless of the type of operator they're attached to (e.g. <code>+=</code> <code>&lt;?=</code> <code>&lt;&lt;=</code> <code>nand=</code> etc.)</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="function-types.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="number-bases.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="function-types.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="number-bases.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3001");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload(true); // force reload from server (not from cache)
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
